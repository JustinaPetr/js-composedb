"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4268],{4852:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var o=n(9231);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),u=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||r;return n?o.createElement(h,l(l({ref:t},c),{},{components:n})):o.createElement(h,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var u=2;u<r;u++)l[u]=n[u];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4092:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(9231),a=n(9841);const r="tabItem_C8TG";function l(e){let{children:t,hidden:n,className:l}=e;return o.createElement("div",{role:"tabpanel",className:(0,a.Z)(r,l),hidden:n},t)}},1610:(e,t,n)=>{n.d(t,{Z:()=>m});var o=n(9675),a=n(9231),r=n(9841),l=n(3863),i=n(6324),s=n(4078),u=n(813);const c="tabList_wYXA",p="tabItem_KAX6";function d(e){var t;const{lazy:n,block:l,defaultValue:d,values:m,groupId:h,className:y}=e,v=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),g=m??v.map((e=>{let{props:{value:t,label:n,attributes:o}}=e;return{value:t,label:n,attributes:o}})),f=(0,i.l)(g,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const k=null===d?d:d??(null==(t=v.find((e=>e.props.default)))?void 0:t.props.value)??v[0].props.value;if(null!==k&&!g.some((e=>e.value===k)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${k}" but none of its children has the corresponding value. Available values are: ${g.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:b,setTabGroupChoices:w}=(0,s.U)(),[N,C]=(0,a.useState)(k),D=[],{blockElementScrollPositionUntilNextRender:I}=(0,u.o5)();if(null!=h){const e=b[h];null!=e&&e!==N&&g.some((t=>t.value===e))&&C(e)}const T=e=>{const t=e.currentTarget,n=D.indexOf(t),o=g[n].value;o!==N&&(I(t),C(o),null!=h&&w(h,String(o)))},j=e=>{var t;let n=null;switch(e.key){case"Enter":T(e);break;case"ArrowRight":{const t=D.indexOf(e.currentTarget)+1;n=D[t]??D[0];break}case"ArrowLeft":{const t=D.indexOf(e.currentTarget)-1;n=D[t]??D[D.length-1];break}}null==(t=n)||t.focus()};return a.createElement("div",{className:(0,r.Z)("tabs-container",c)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},y)},g.map((e=>{let{value:t,label:n,attributes:l}=e;return a.createElement("li",(0,o.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>D.push(e),onKeyDown:j,onClick:T},l,{className:(0,r.Z)("tabs__item",p,null==l?void 0:l.className,{"tabs__item--active":N===t})}),n??t)}))),n?(0,a.cloneElement)(v.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},v.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function m(e){const t=(0,l.Z)();return a.createElement(d,(0,o.Z)({key:String(t)},e))}},8149:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var o=n(9675),a=(n(9231),n(4852));n(1610),n(4092);const r={},l="Set up your environment",i={unversionedId:"set-up-your-environment",id:"set-up-your-environment",title:"Set up your environment",description:"The first step to build with ComposeDB is setting up your development environment. This guide will show you how to install and configure relevant packages and tools.",source:"@site/docs/set-up-your-environment.mdx",sourceDirName:".",slug:"/set-up-your-environment",permalink:"/docs/preview/set-up-your-environment",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Getting Started",permalink:"/docs/preview/getting-started"},next:{title:"Create your composite",permalink:"/docs/preview/create-your-composite"}},s={},u=[{value:"Installation",id:"installation",level:2},{value:"Create your project directory",id:"create-your-project-directory",level:3},{value:"Node.js",id:"nodejs",level:3},{value:"Ceramic",id:"ceramic",level:3},{value:"ComposeDB",id:"composedb",level:3},{value:"Setup",id:"setup",level:2},{value:"Run a Ceramic node",id:"run-a-ceramic-node",level:3},{value:"Developer Account",id:"developer-account",level:2},{value:"Generate your private key",id:"generate-your-private-key",level:3},{value:"Generate your account",id:"generate-your-account",level:3},{value:"Using your account",id:"using-your-account",level:3},{value:"Confirmation",id:"confirmation",level:2},{value:"Next steps",id:"next-steps",level:2}],c={toc:u};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"set-up-your-environment"},"Set up your environment"),(0,a.kt)("p",null,"The first step to build with ComposeDB is setting up your development environment. This guide will show you how to install and configure relevant packages and tools."),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)("h3",{id:"create-your-project-directory"},"Create your project directory"),(0,a.kt)("p",null,"Start with creating the project directory. Here you\u2019ll store all your app\u2019s local files:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir my-project\ncd my-project\n")),(0,a.kt)("h3",{id:"nodejs"},"Node.js"),(0,a.kt)("p",null,"If you don\u2019t already have them installed, you will need to install Node.js v16 and the following package managers:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://nodejs.org/en/"},"NodeJS v16")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://pnpm.io/installation"},"pnpm v7"))),(0,a.kt)("p",null,"Not sure which version you have? Use this command to make sure you have the correct versions installed."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"node -v\npnpm -v\n")),(0,a.kt)("h3",{id:"ceramic"},"Ceramic"),(0,a.kt)("p",null,"ComposeDB runs on Ceramic, so you will need to run a Ceramic node. To get started, and for testing purposes, we recommend running a local Ceramic node. If you're interested in running the production node, you can follow the ",(0,a.kt)("a",{parentName:"p",href:"https://blog.ceramic.network/configuring-a-ceramic-node-using-aws/"},"tutorial here"),". "),(0,a.kt)("p",null,"The Ceramic CLI provides a set of commands that make it easier to run and manage Ceramic nodes. We will start by installing the Ceramic CLI:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm install -g @ceramicnetwork/cli\n")),(0,a.kt)("h3",{id:"composedb"},"ComposeDB"),(0,a.kt)("p",null,"Next install the ComposeDB CLI, which enables you to interact with ComposeDB data from your terminal. Install ComposeDB CLI using the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm add -g @composedb/cli@^0.3.0\n")),(0,a.kt)("p",null,"ComposeDB exposes two complementary development libraries: "),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"/docs/preview/api/modules/devtools"},"@composedb/devtools")," containing utilities related to managing composites, and "),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"/docs/preview/api/modules/devtools_node"},"@composedb/devtools-node")," which contains utilities for interacting with the local file system and starting a local HTTP server. ")),(0,a.kt)("p",null,"To install the development packages, run:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm add -D @composedb/devtools@^0.3.0 @composedb/devtools-node@^0.3.0\n")),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)("h3",{id:"run-a-ceramic-node"},"Run a Ceramic node"),(0,a.kt)("p",null,"You can check that everything was installed correctly by spinning up a Ceramic node. Running the command below will start the Ceramic node in local mode and connect to Clay testnet.\nIndexing is a key component of ComposeDB, which syncs data across nodes. Enable indexing by toggling:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"CERAMIC_ENABLE_EXPERIMENTAL_COMPOSE_DB='true' pnpm dlx @ceramicnetwork/cli daemon\n")),(0,a.kt)("p",null,"If you see the following output in your terminal, that means you have successfully started a local node and connected to Clay testnet \ud83d\ude80"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"IMPORTANT: Ceramic API running on 0.0.0.0:7007'\n")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"After you start a node, a node configuration file is created. Later in this guide, you\u2019ll be editing this file. You can find it at the following path: ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.ceramic/daemon.config.json"))),(0,a.kt)("h2",{id:"developer-account"},"Developer Account"),(0,a.kt)("h3",{id:"generate-your-private-key"},"Generate your private key"),(0,a.kt)("p",null,"You will need a private key for authorizing ComposeDB CLI commands in the later stages of development. You can generate it using the command below. Save it for later use:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"composedb did:generate-private-key\n")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Important:")," Store your private key securely - the key allows changes to be made to you app. In addition, you will need it throughout the app development process.")),(0,a.kt)("h3",{id:"generate-your-account"},"Generate your account"),(0,a.kt)("p",null,"Indexing is one of the key features of ComposeDB. In order to notify the Ceramic node which models have to be indexed, the ComposeDB tools have to interact with the restricted Admin API. Calling the API requires an authenticated Decentralized Identifier (DID) to be provided in the node configuration file. Create a DID by running the following command, using the private key generated previously:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"composedb did:from-private-key your-private-key\n")),(0,a.kt)("p",null,"\u26a0\ufe0f Copy this authenticated DID key and store it in a secure place, just like with your private key above. This DID key will have to be provided in your Ceramic node\u2019s configuration file which will ensure that only authorized users can make changes to your application, e.g. deploy models on your Ceramic node."),(0,a.kt)("h3",{id:"using-your-account"},"Using your account"),(0,a.kt)("p",null,"Provide the authenticated DID by opening the node configuration file which defaults to ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.ceramic/daemon.config.json")," and specifying it in the ",(0,a.kt)("inlineCode",{parentName:"p"},"admin-dids")," section of the file as shown below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  ...\n  "http-api": {\n    ...\n    "admin-dids": ["did:key:..."]\n  },\n  "indexing": {\n    ...\n    "allow-queries-before-historical-sync": true\n  }\n}\n')),(0,a.kt)("p",null,"Save this file. By this point you should have your development environment and all configurations in place to get started working on your application."),(0,a.kt)("h2",{id:"confirmation"},"Confirmation"),(0,a.kt)("p",null,"As a final test, spin up the Ceramic local node:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"ceramic daemon --network=testnet-clay\n")),(0,a.kt)("p",null,"Once again, you should see your local Ceramic node up and running as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"IMPORTANT: Ceramic API running on 0.0.0.0:7007'\n")),(0,a.kt)("h2",{id:"next-steps"},"Next steps"),(0,a.kt)("p",null,"After setting up your environment, the next step is to ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"/docs/preview/create-your-composite"},"Create your composite")," \u2192")))}p.isMDXComponent=!0}}]);